(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(p.length)p.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"16a3":function(e,t,a){"use strict";var n=a("fe4d"),r=a.n(n);r.a},"206d":function(e,t,a){"use strict";var n=a("50a7"),r=a.n(n);r.a},"42a0":function(e,t,a){},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="4678"},"50a7":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",["Login"!==e.$route.name?a("Navbar"):e._e(),"Login"!==e.$route.name?a("Toolbar",{attrs:{title:e.$route.name}}):e._e(),a("router-view")],1)},s=[],i=(a("a4d3"),a("4de4"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("159b"),a("96cf"),a("1da1")),o=a("ade3"),c=a("bc3a"),l=a.n(c),u=a("2f62"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-navigation-drawer",{staticClass:"menu",attrs:{app:"",fixed:"",permanent:""},scopedSlots:e._u([{key:"append",fn:function(){return[n("div",{staticClass:"pa-2"},[n("v-btn",{staticClass:"primary",attrs:{elevation:"10",block:""},on:{click:e.logout}},[e._v("Logout")])],1)]},proxy:!0}])},[[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-content",[n("v-list-item-title",[n("h1",{staticClass:"menu-brand-text"},[n("img",{staticClass:"brand-avatar",attrs:{src:a("d2fd")}}),e._v(" Spectrum ")])])],1)],1)],n("v-divider"),[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[e.user?n("v-img",{key:e.user.avatar,attrs:{"lazy-src":a("90ab"),src:e.avatarSrc,alt:""}}):e._e()],1),n("v-list-item-content",[e.user?n("v-list-item-title",[e._v(" "+e._s(e.user.name.first+" "+e.user.name.last)+" ")]):e._e(),n("v-list-item-subtitle",[e._v("Logged In")])],1)],1)],n("v-divider"),n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{exact:"",to:{name:"Dashboard"},"active-class":"primary white--text rounded",link:""}},[n("v-list-item-icon",[n("v-icon",{attrs:{small:""}},[e._v("fas fa-th-large")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Dashboard")])],1)],1),n("v-list-item",{attrs:{to:{name:"Companies"},"active-class":"primary white--text rounded",link:""}},[n("v-list-item-icon",[n("v-icon",{attrs:{small:""}},[e._v("far fa-building")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Companies")])],1)],1),n("v-list-item",{attrs:{to:{name:"Surveillance"},"active-class":"primary white--text rounded",link:""}},[n("v-list-item-icon",[n("v-icon",{attrs:{small:""}},[e._v("fas fa-shield-alt")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Surveillance")])],1)],1),n("v-list-item",{attrs:{to:{name:"Users"},"active-class":"primary white--text rounded",link:""}},[n("v-list-item-icon",[n("v-icon",{attrs:{small:""}},[e._v("fas fa-users")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Users")])],1)],1),n("v-list-item",{attrs:{to:{name:"Settings"},"active-class":"primary white--text rounded",link:""}},[n("v-list-item-icon",[n("v-icon",{attrs:{small:""}},[e._v("fas fa-cogs")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Settings")])],1)],1)],1)],2)],1)},p=[],m=a("0e44");n["a"].use(u["a"]);var v=new u["a"].Store({plugins:[Object(m["a"])()],state:{token:"",user:{},isAuthenticated:!1,users:[]},mutations:{SET_LOGGED_USER:function(e,t){e.user=t},SET_IS_AUTHENTICATED:function(e,t){e.isAuthenticated=t},SET_TOKEN:function(e,t){e.token=t},SET_USERS:function(e,t){e.users=t}},actions:{setLoggedUser:function(e,t){var a=e.commit;a("SET_LOGGED_USER",t)},setIsAuthenticated:function(e,t){var a=e.commit;a("SET_IS_AUTHENTICATED",t)},setToken:function(e,t){var a=e.commit;a("SET_TOKEN",t)},setUsers:function(e,t){var a=e.commit;a("SET_USERS",t)}},getters:{isAuthenticated:function(e){return e.isAuthenticated}},modules:{}}),f=function(){try{return v.state.token}catch(e){console.log("Error getting token")}},h=function(){try{return v.dispatch("setToken",null)}catch(e){console.log("Error removing token")}},g=function(){try{return v.dispatch("setLoggedUser",null)}catch(e){console.log("Error clearing user")}},b=function(e){try{v.dispatch("setLoggedUser",JSON.stringify(e))}catch(t){console.log("Error setting user")}};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w={data:function(){return{avatarSrc:""}},methods:{logout:function(){try{g(),h(),this.$store.dispatch("setIsAuthenticated",!1),this.$router.push({name:"Login"})}catch(e){throw e}}},computed:y({},Object(u["b"])(["user"])),watch:{user:function(){return this.avatarSrc=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL+"files/image/".concat(this.user.avatar)}}},k=w,j=(a("16a3"),a("2877")),C=a("6544"),_=a.n(C),T=a("8336"),O=a("ce7e"),V=a("132d"),D=a("adda"),I=a("8860"),R=a("da13"),S=a("8270"),U=a("5d23"),E=a("34c3"),P=a("f774"),L=Object(j["a"])(k,d,p,!1,null,null,null),A=L.exports;_()(L,{VBtn:T["a"],VDivider:O["a"],VIcon:V["a"],VImg:D["a"],VList:I["a"],VListItem:R["a"],VListItemAvatar:S["a"],VListItemContent:U["a"],VListItemIcon:E["a"],VListItemSubtitle:U["b"],VListItemTitle:U["c"],VNavigationDrawer:P["a"]});var $=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-toolbar",{staticStyle:{height:"75px","margin-top":"0px",transform:"translateY(0px)",left:"260px !important",right:"0px",padding:"0 10px 0 10px",width:"auto"},attrs:{absolute:"",color:"rgba(0,0,0,0)",flat:""}},[a("v-toolbar-title",[e._v(e._s(e.title))]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",[e._v("fas fa-bell")])],1)],1)},N=[],F={name:"Toolbar",props:{title:{type:String}}},B=F,z=a("2fa4"),M=a("71d9"),H=a("2a7f"),Y=Object(j["a"])(B,$,N,!1,null,null,null),q=Y.exports;function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}_()(Y,{VBtn:T["a"],VIcon:V["a"],VSpacer:z["a"],VToolbar:M["a"],VToolbarTitle:H["b"]}),l.a.defaults.baseURL=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL;var J={name:"App",components:{Navbar:A,Toolbar:q},data:function(){return{}},methods:{me:function(){var e=this;l.a.get("/auth/me").then((function(t){var a=t.data.content.users;if(!a){var n={message:"Unexpected error"};throw n}b(a),e.$store.dispatch("setLoggedUser",a)})).catch((function(t){throw e.$store.dispatch("setLoggedUser",null),h(),g(),t}))},initAuth:function(){g();var e=f();e||(this.$store.dispatch("setToken",null),this.$store.dispatch("setLoggedUser",null)),l.a.interceptors.request.use((function(e){var t=f();return e.headers.authorization="",t&&(e.headers.authorization="Bearer "+t),e}),(function(e){return Promise.reject(e)})),e&&this.me(e)}},computed:W({},u["b"]["isAuthenticated"]),beforeMount:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.initAuth();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e["catch"](0),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));function t(){return e.apply(this,arguments)}return t}()},K=J,Q=(a("5c0b"),a("7496")),X=Object(j["a"])(K,r,s,!1,null,null,null),Z=X.exports;_()(X,{VApp:Q["a"]});var ee=a("8c4f"),te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("v-content",{staticClass:"content"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"3",md:"3"}},[a("Info-Card",{attrs:{id:"breaches-card",headline:"Breaches",text:"Breaches in the last 7 days",icon:e.logsIcon,numberOf:e.logsCount,loading:e.loading}})],1),a("v-col",{attrs:{cols:"3",md:"3"}},[a("Info-Card",{attrs:{id:"breaches-card",headline:"Breaches",text:"Users created in the last 7 days",icon:e.usersIcon,numberOf:e.usersCount,loading:e.loading}})],1),a("v-col",{attrs:{cols:"3",md:"3"}},[a("Info-Card",{attrs:{id:"breaches-card",headline:"Breaches",text:"Received emails in last 7 days",icon:e.recEmailIcon,numberOf:e.recEmailCount,loading:e.loading}})],1),a("v-col",{attrs:{cols:"3",md:"3"}},[a("Info-Card",{attrs:{id:"breaches-card",headline:"Breaches",text:"Emails sent in last 7 days",icon:e.sentEmailIcon,numberOf:e.sentEmailCount,loading:e.loading}})],1)],1),a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"6"}},[a("Graph",{attrs:{title:"Security Analysis",lastOccurence:e.lastLogRecord,labels:e.dateLabels,value:e.logValues}})],1),a("v-col",{attrs:{cols:"6"}},[a("Graph",{attrs:{title:"Users Analysis",lastOccurence:e.lastUserRecord,labels:e.dateLabels,value:e.userValues}})],1)],1),a("v-row",{staticClass:"mt-5",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"12"}},[a("Data-Table",{staticClass:"elevation-4 mb-10",attrs:{title:"Inbox",hasViewIcon:!0,headers:e.headers,items:e.inboxItems,loading:e.loading,isUsersTable:!1,page:e.page,perPage:e.perPage,totalRecords:e.inboxTotalRecords,searchLabel:"Search Inbox"},on:{viewItem:function(t){return e.openViewMail(t)},snackbarOpen:function(t){return e.openSnackbar(t)},openDeleteConfirm:function(t){return e.openDialog(t)},search:function(t){return e.search(t)},pageUpdate:function(t){return e.pageUpdate(t)},perPageUpdate:function(t){return e.perPageUpdate(t)},orderByUpdate:function(t){return e.orderByUpdate(t)},orderTypeUpdate:function(t){return e.orderTypeUpdate(t)}}})],1)],1),a("Mail-View",{attrs:{open:e.viewMailDialog,item:e.mailItem},on:{close:function(t){e.viewMailDialog=!1}}})],1)],1)],1)},ae=[],ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-card",{staticClass:"mt-10",attrs:{raised:""}},[a("v-sheet",{staticClass:"v-sheet--offset mx-auto",attrs:{color:"secondary",elevation:"12","max-width":"calc(100% - 32px)"}},[e.value.length>6?a("v-sparkline",{attrs:{labels:e.labels,"auto-draw":"","auto-draw-easing":"ease","stroke-linecap":"round",value:e.value,color:"white","line-width":"2",padding:"16",smooth:""}}):e._e()],1),a("v-card-text",{staticClass:"pt-0"},[a("div",{staticClass:"title font-weight-light mb-2"},[e._v(e._s(e.title))]),a("div",{staticClass:"subheading font-weight-light grey--text"},[e._v(e._s(e.subheading))]),a("v-divider",{staticClass:"my-2"}),a("v-icon",{staticClass:"mr-2",attrs:{color:"error",small:""}},[e._v("fas fa-clock")]),a("span",{staticClass:"caption grey--text font-weight-light"},[e._v("last registered "+e._s(e.calcDiff)+" hours ago")])],1)],1)],1)},re=[],se=a("c1df"),ie=a.n(se),oe={props:{title:{type:String},subheading:{type:String},labels:{type:Array},value:{type:Array},lastOccurence:String},data:function(){return{}},computed:{calcDiff:function(){var e=ie()(),t=ie()(this.lastOccurence),a=e.diff(t,"hours");return a}}},ce=oe,le=(a("8e60"),a("b0af")),ue=a("99d9"),de=a("8dd9"),pe=a("7f2e"),me=Object(j["a"])(ce,ne,re,!1,null,null,null),ve=me.exports;_()(me,{VCard:le["a"],VCardText:ue["c"],VDivider:O["a"],VIcon:V["a"],VSheet:de["a"],VSparkline:pe["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"gradient-card",attrs:{loading:e.loading,dark:"",raised:""}},[a("v-row",{staticClass:"text-center"},[a("v-col",{attrs:{cols:"12 mt-5"}},[a("v-icon",{attrs:{"x-large":"",color:e.icon.color}},[e._v(e._s(e.icon.name))])],1),a("v-col",{attrs:{cols:"12"}},[a("h1",{staticClass:"text-center"},[e._v(e._s(e.numberOf))]),a("v-card-text",[e._v(e._s(e.text))])],1)],1)],1)},he=[],ge=(a("a9e3"),{props:{icon:Object,numberOf:Number,text:String,loading:Boolean}}),be=ge,xe=(a("a031"),a("62ad")),ye=a("0fd9"),we=Object(j["a"])(be,fe,he,!1,null,null,null),ke=we.exports;_()(we,{VCard:le["a"],VCardText:ue["c"],VCol:xe["a"],VIcon:V["a"],VRow:ye["a"]});var je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{attrs:{"sort-by":e.orderBy,"sort-desc":e.orderType,headers:e.headers,items:e.items,loading:e.loading,page:e.page,"items-per-page":e.perPage,"server-items-length":e.totalRecords},on:{"update:page":function(t){return e.$emit("pageUpdate",t)},"update:items-per-page":function(t){return e.$emit("perPageUpdate",t)},"update:sort-by":function(t){return e.$emit("orderByUpdate",t)},"update:sort-desc":function(t){return e.$emit("orderTypeUpdate",t)}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{staticClass:"bg-gradient",attrs:{flat:""}},[a("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.title))]),a("v-form",{on:{submit:function(t){return t.preventDefault(),e.$emit("search",e.searchText)}}},[a("v-text-field",{staticClass:"white ml-5",attrs:{outlined:"",dense:"","append-icon":"fas fa-search",label:e.searchLabel,"single-line":"","hide-details":""},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),a("v-spacer"),e.isUsersTable?a("v-btn",{attrs:{color:"accent--text white"},on:{click:e.openDialogNewUser}},[e._v("New User")]):e._e()],1)]},proxy:!0},{key:"item.action",fn:function(t){var n=t.item;return[e.isUsersTable?a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"secondary"},on:{click:function(t){return e.editItem(n)}}},[e._v("fas fa-user-edit")]):e._e(),e.isEmailTable?a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"secondary"},on:{click:function(t){return e.$emit("openFullscreen",n)}}},[e._v("fas fa-edit")]):e._e(),e.hasViewIcon?a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.$emit("viewItem",n)}}},[e._v("fas fa-eye")]):e._e(),a("v-icon",{attrs:{small:"",color:"error"},on:{click:function(t){return e.$emit("openDeleteConfirm",n)}}},[e._v("fas fa-trash")])]}},{key:"no-data",fn:function(){return[a("p",{staticClass:"accent--text"},[e._v("No Data returned")])]},proxy:!0},{key:"item.type",fn:function(t){var n=t.item;return[1===n.type?a("span",[e._v("Payment Processed")]):e._e(),2===n.type?a("span",[e._v("Receipt")]):e._e(),3===n.type?a("span",[e._v("Maintenance Notice")]):e._e(),4===n.type?a("span",[e._v("Your Credentials")]):e._e()]}},{key:"item.userType",fn:function(t){var n=t.item;return[1===n.userType?a("span",[e._v("Admin")]):e._e(),3===n.userType?a("span",[e._v("Customer")]):e._e()]}},{key:"item.companyId.name",fn:function(t){var n=t.item;return[void 0===n.companyId?a("span",[e._v("Spectrum")]):a("span",[e._v(e._s(n.companyId.name))])]}}])}),a("New-User-Dialog",{attrs:{dialogTitle:e.dialogTitle,route:e.routeForDialog,open:e.userDialog,editedItem:e.editedItem,companies:e.companiesForDialog,"max-width":"500px"},on:{getUsersBecauseLazy:function(t){return e.easterEggMethod()},close:e.close}})],1)},Ce=[],_e=(a("c975"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{persistent:"","max-width":"500px"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline primary--text"},[e._v(e._s(e.dialogTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[a("v-text-field",{attrs:{"full-width":"",dense:"",outlined:"",type:"text",label:"Email"},model:{value:e.editedItem.email,callback:function(t){e.$set(e.editedItem,"email",t)},expression:"editedItem.email"}}),a("v-text-field",{attrs:{"full-width":"",dense:"",outlined:"",type:"text",label:"First Name"},model:{value:e.editedItem.name.first,callback:function(t){e.$set(e.editedItem.name,"first",t)},expression:"editedItem.name.first"}}),a("v-text-field",{attrs:{"full-width":"",dense:"",outlined:"",type:"text",label:"Last Name"},model:{value:e.editedItem.name.last,callback:function(t){e.$set(e.editedItem.name,"last",t)},expression:"editedItem.name.last"}}),a("v-select",{attrs:{label:"Company",dense:"",outlined:"",items:e.companies,"item-text":function(e){return e.name},"item-value":function(e){return e._id}},model:{value:e.editedItem.companyId,callback:function(t){e.$set(e.editedItem,"companyId",t)},expression:"editedItem.companyId"}}),a("v-select",{attrs:{label:"User Type",dense:"",outlined:"",items:e.userTypes,"item-value":function(e){return e.value},"item-text":function(e){return e.label}},model:{value:e.editedItem.userType,callback:function(t){e.$set(e.editedItem,"userType",t)},expression:"editedItem.userType"}}),a("v-file-input",{attrs:{dense:"",chips:"","show-size":"",outlined:"","prepend-inner-icon":"fas fa-camera","prepend-icon":"",accept:"image/jpeg, image/png",label:"Avatar"},model:{value:e.avatar,callback:function(t){e.avatar=t},expression:"avatar"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"ligthgrey",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"primary",loading:e.loading,text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1)}),Te=[],Oe=(a("b0c0"),{props:{open:Boolean,dialogTitle:String,editedItem:Object,companies:Array,route:Object},data:function(){return{userTypes:[{value:1,label:"Admin"},{value:3,label:"Customer"}],avatar:null,loading:!1}},methods:{save:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading=!0,t=null,!this.avatar){e.next=9;break}return a=new FormData,a.append("file",this.avatar,this.avatar.name),e.next=8,l.a.post("/file/upload/avatar",a);case 8:t=e.sent;case 9:return n=this.route.method,e.next=12,l.a[n](this.route.endpoint,{email:this.editedItem.email,name:{first:this.editedItem.name.first,last:this.editedItem.name.last},companyId:this.editedItem.companyId,userType:this.editedItem.userType,avatar:t.data.fileId});case 12:r=e.sent,r.data.success&&this.$emit("getUsersBecauseLazy"),this.loading=!1,e.next=20;break;case 17:throw e.prev=17,e.t0=e["catch"](0),e.t0;case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));function t(){return e.apply(this,arguments)}return t}()}}),Ve=Oe,De=a("a523"),Ie=a("169a"),Re=a("23a7"),Se=a("b974"),Ue=a("8654"),Ee=Object(j["a"])(Ve,_e,Te,!1,null,null,null),Pe=Ee.exports;_()(Ee,{VBtn:T["a"],VCard:le["a"],VCardActions:ue["a"],VCardText:ue["c"],VCardTitle:ue["d"],VCol:xe["a"],VContainer:De["a"],VDialog:Ie["a"],VFileInput:Re["a"],VRow:ye["a"],VSelect:Se["a"],VSpacer:z["a"],VTextField:Ue["a"]});var Le={props:{title:{type:String,required:!0},headers:{type:Array,required:!0},items:{type:Array,required:!0},search:String,loading:Boolean,isUsersTable:Boolean,isEmailTable:Boolean,page:Number,perPage:Number,orderBy:String,orderType:String,totalRecords:Number,searchLabel:String,companies:Array,hasViewIcon:Boolean},components:{NewUserDialog:Pe},data:function(){return{editedItem:{email:"",name:{first:"",last:""},companyId:{},avatar:null},item:{},userDialog:!1,searchText:"",dialogTitle:"",dialogOpen:!1,dialogHeadline:"",dialogText:"",companiesForDialog:null,loadingDelete:!1,routeForDialog:{method:"",endpoint:""}}},methods:{easterEggMethod:function(){this.userDialog=!1,this.$emit("legoLazyness")},editItem:function(e){this.dialogTitle="Edit User",this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.companiesForDialog||this.getCompanies(),this.routeForDialog={method:"put",endpoint:"/users/".concat(this.editedItem._id)},this.userDialog=!0},openDialogNewUser:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.dialogTitle="New User",this.companiesForDialog||this.getCompanies(),this.routeForDialog={method:"post",endpoint:"/auth/sign-up"},this.userDialog=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCompanies:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/companies");case 3:t=e.sent,this.companiesForDialog=t.data.content.companies,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),close:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.userDialog=!1,this.editedIndex=-1,this.editedItem={email:"",name:{first:"",last:""},companyId:{},avatar:null};case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},Ae=Le,$e=(a("6224"),a("8fea")),Ne=a("4bd4"),Fe=Object(j["a"])(Ae,je,Ce,!1,null,null,null),Be=Fe.exports;_()(Fe,{VBtn:T["a"],VDataTable:$e["a"],VForm:Ne["a"],VIcon:V["a"],VSpacer:z["a"],VTextField:Ue["a"],VToolbar:M["a"],VToolbarTitle:H["b"]});var ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{"max-width":"500"},on:{"click:outside":function(t){return e.$emit("close",t)}},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("v-card",[e.item?a("v-card-title",{staticClass:"headline mb-5"},[e._v(e._s(e.item.title))]):e._e(),a("v-card-subtitle",[a("b",[e._v("From:")]),e._v(" "+e._s(e.item.email)+" ")]),a("v-card-text",[a("pre",[e._v(e._s(e.item.text))])]),a("v-card-actions",[a("v-spacer")],1)],1)],1)],1)},Me=[],He={props:{open:Boolean,item:{from:String,title:String,text:String}}},Ye=He,qe=Object(j["a"])(Ye,ze,Me,!1,null,null,null),Ge=qe.exports;_()(qe,{VCard:le["a"],VCardActions:ue["a"],VCardSubtitle:ue["b"],VCardText:ue["c"],VCardTitle:ue["d"],VDialog:Ie["a"],VRow:ye["a"],VSpacer:z["a"]});var We={name:"home",components:{Graph:ve,InfoCard:ke,DataTable:Be,MailView:Ge},data:function(){return{loading:!1,dateLabels:[],logValues:[],userValues:[],logsIcon:{name:"fas fa-shield-alt",color:"white"},logsCount:null,usersCount:null,recEmailCount:null,sentEmailCount:null,usersIcon:{name:"fas fa-users",color:"white"},recEmailIcon:{name:"fas fa-inbox",color:"white"},sentEmailIcon:{name:"fas fa-paper-plane",color:"white"},lastLogRecord:"",lastUserRecord:"",headers:[{text:"From",value:"email"},{text:"Subject",value:"title"},{text:"Actions",value:"action",sortable:!1}],inboxItems:[],inboxTotalRecords:0,page:1,perPage:10,orderBy:"createdAt",orderType:"asc",viewMailDialog:!1,mailItem:{}}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,this.dateLabels=this.last7Days(),e.next=4,this.getThisWeeksLogs();case 4:return e.next=6,this.createdUsersThisWeek();case 6:return e.next=8,this.getReceivedEmailCount();case 8:return e.next=10,this.sentEmailThisWeek();case 10:return e.next=12,this.getLogChartData();case 12:return e.next=14,this.getUsersChartData();case 14:return e.next=16,this.getInbox();case 16:this.loading=!1;case 17:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{openViewMail:function(e){console.log(e),this.mailItem={title:e.title,email:e.email,text:e.text},this.viewMailDialog=!0,console.log("stoped here")},getInbox:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/rec_email/inbox",{params:{page:this.page,perPage:this.perPage,orderBy:this.orderBy,orderType:this.orderType}});case 3:t=e.sent,this.inboxItems=t.data.content.inbox,this.inboxTotalRecords=t.data.totalRecords,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),createdUsersThisWeek:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/users/created/last_7_days");case 3:t=e.sent,this.usersCount=t.data.totalRecords,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),sentEmailThisWeek:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/mail/last_7_days");case 3:t=e.sent,this.sentEmailCount=t.data.totalRecords,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getReceivedEmailCount:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/rec_email/last_7_days");case 3:t=e.sent,this.recEmailCount=t.data.totalRecords,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getThisWeeksLogs:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/logs/last_7_days");case 3:t=e.sent,this.logsCount=t.data.totalRecords,e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getLogChartData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/logs/analytics");case 3:t=e.sent,this.logValues=t.data.content.range,this.lastLogRecord=t.data.content.lastRecord.createdAt,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getUsersChartData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/users/analytics");case 3:t=e.sent,this.userValues=t.data.content.range,this.lastUserRecord=t.data.content.lastRecord.createdAt,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),search:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,l.a.get("/rec_email/inbox",{params:{search:t}});case 4:a=e.sent,this.inboxItems=a.data.content.inbox,this.totalrecords=a.data.totalRecords,this.loading=!1,e.next=14;break;case 10:throw e.prev=10,e.t0=e["catch"](0),this.loading=!1,e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}(),pageUpdate:function(e){this.page=e,this.getInbox()},perPageUpdate:function(e){this.perPage=e,this.getInbox()},orderByUpdate:function(e){this.orderBy=e[0],this.getInbox()},orderTypeUpdate:function(e){!0===e[0]?this.orderType="desc":this.orderType="asc",this.getInbox()},formatDate:function(e){var t=e.getDate(),a=e.getMonth()+1;return t<10&&(t="0"+t),a<10&&(a="0"+a),e=t+"/"+a,e},last7Days:function(){for(var e=[],t=0;t<7;t++){var a=new Date;a.setDate(a.getDate()-t),e.unshift(this.formatDate(a))}return e}}},Je=We,Ke=a("a75b"),Qe=Object(j["a"])(Je,te,ae,!1,null,null,null),Xe=Qe.exports;_()(Qe,{VCol:xe["a"],VContainer:De["a"],VContent:Ke["a"],VRow:ye["a"]});var Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("v-content",{staticClass:"content"},[a("v-container",[a("Data-Table",{staticClass:"elevation-3",attrs:{searchLabel:"Search Logs",title:"List of Logs",loading:e.loading,headers:e.headers,items:e.logs}})],1)],1)],1)},et=[],tt={name:"home",components:{DataTable:Be},data:function(){return{loading:!1,headers:[{text:"Company",value:"sensorId.companyId.name"},{text:"Location",value:"sensorId.location"},{text:"Started",value:"started"},{text:"Finished",value:"finished"}],logs:[]}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getLogs();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getLogs:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,l.a.get("/logs");case 4:t=e.sent,this.logs=t.data.content.logs,this.logs.forEach((function(e){e.started=ie()(e.started).format("HH:mm / DD-MM-YYYY"),e.finished=ie()(e.finished).format("HH:mm / DD-MM-YYYY")})),this.loading=!1,e.next=14;break;case 10:throw e.prev=10,e.t0=e["catch"](0),this.loading=!1,e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}()},computed:{}},at=tt,nt=Object(j["a"])(at,Ze,et,!1,null,null,null),rt=nt.exports;_()(nt,{VContainer:De["a"],VContent:Ke["a"]});var st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("v-content",{staticClass:"content"},[a("v-container",[a("v-tabs",{staticClass:"elevation-2",attrs:{color:"primary","background-color":"white",left:""},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab",[e._v(" Template Emails "),a("v-icon",{staticClass:"ml-3"},[e._v("fas fa-envelope")])],1),a("v-tab",[e._v(" IMAP Settings "),a("v-icon",{staticClass:"ml-3"},[e._v("fas fa-inbox")])],1),a("v-tab",[e._v(" Blacklist "),a("v-icon",{staticClass:"ml-3"},[e._v("fas fa-user-secret")])],1)],1),a("v-tabs-items",{staticClass:"elevation-2",model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab-item",[a("v-row",{staticClass:"mb-0 pb-0",attrs:{align:"center","no-gutters":""}},[a("v-col",{attrs:{cols:"6",md:"6"}}),a("v-col",{staticClass:"text-right pr-8 mt-4",attrs:{cols:"6",md:"6"}},[a("v-btn",{attrs:{color:"primary--text"},on:{click:function(t){return e.handleOpenDialog(null)}}},[e._v("New Template")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("Table",{attrs:{title:"List of Templates",headers:e.headers,items:e.templates,loading:e.loading,isUsersTable:!1,isEmailTable:!0,page:e.page,perPage:e.perPage,totalRecords:e.totalRecords,searchLabel:"Search Templates"},on:{openDeleteConfirm:function(t){return e.openDialog(t)},openFullscreen:function(t){return e.handleOpenDialog(t)},search:function(t){return e.searchTemplates(t)},pageUpdate:function(t){return e.pageUpdate(t)},perPageUpdate:function(t){return e.perPageUpdate(t)},orderByUpdate:function(t){return e.orderByUpdate(t)},orderTypeUpdate:function(t){return e.orderTypeUpdate(t)}}})],1)],1)],1),a("v-tab-item",[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{staticClass:"mt-10",attrs:{cols:"12",md:"5"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"User"},model:{value:e.imapUser,callback:function(t){e.imapUser=t},expression:"imapUser"}})],1),a("v-col",{staticClass:"mt-10",attrs:{cols:"12",md:"5"}},[a("v-text-field",{attrs:{type:"password",dense:"",outlined:"",label:"Password"},model:{value:e.imapPassword,callback:function(t){e.imapPassword=t},expression:"imapPassword"}})],1)],1),a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Host"},model:{value:e.imapHost,callback:function(t){e.imapHost=t},expression:"imapHost"}})],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Port"},model:{value:e.imapPort,callback:function(t){e.imapPort=t},expression:"imapPort"}})],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-checkbox",{attrs:{dense:"",label:"TLS"},model:{value:e.imapTls,callback:function(t){e.imapTls=t},expression:"imapTls"}})],1),a("v-col",{staticClass:"text-right",attrs:{cols:"12",md:"10"}},[a("v-btn",{staticClass:"mb-10 mx-5",attrs:{color:"error","min-width":"200"},on:{click:e.deleteCurrentImap}},[e._v("Delete Current")]),a("v-btn",{staticClass:"elevation-1 mb-10",attrs:{color:"primary","min-width":"200"},on:{click:e.saveImapSettings}},[e._v("Save")])],1)],1)],1),a("v-tab-item",[e._v("hey")])],1)],1),a("Full-Dialog",{attrs:{open:e.fullscreenDialog,route:e.routeForFullscreen,editorData:e.editorData,templateTitle:e.editEmailTitle,templateType:e.editEmailType,types:e.types,loading:e.loadingSave,title:"Create New Template"},on:{closeDialog:e.closeDialog,getTemplates:e.getTemplates}}),a("Confirm-Dialog",{attrs:{dialogOpen:e.dialogOpen,dialogHeadline:e.dialogHeadline,dialogText:e.dialogText,loading:e.loadingDelete},on:{confirmDelete:function(t){return e.deleteItem(e.item)},dialogClose:function(t){e.dialogOpen=!1}}}),a("Snackbar",{attrs:{open:e.snackbarOpen,text:e.snackbarText,color:e.snackbarColor},on:{closeSnack:function(t){e.snackbarOpen=e.event}}})],1)],1)},it=[],ot=(a("a434"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){return e.$emit("closeDialog")}}},[a("v-icon",[e._v("far fa-times-circle")])],1),a("v-toolbar-title",[e._v(e._s(e.title))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{loading:e.loading,dark:"",text:""},on:{click:e.submit}},[e._v("Save")])],1)],1),a("v-container",[a("v-row",{staticClass:"mt-5"},[a("v-col",{attrs:{cols:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",outlined:"",label:"Template Title"},model:{value:e.templateTitle,callback:function(t){e.templateTitle=t},expression:"templateTitle"}})],1),a("v-col",{attrs:{cols:"6",md:"6"}},[a("v-select",{attrs:{items:e.types,"item-text":function(e){return e.label},"item-value":function(e){return e.value},dense:"",outlined:"",label:"Select Template Type"},model:{value:e.templateType,callback:function(t){e.templateType=t},expression:"templateType"}})],1),a("v-col",{attrs:{cols:"12",md:"12"}},[a("ckeditor",{staticStyle:{"{height":"100vh}"},attrs:{editor:e.editor,config:e.editorConfig},model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}})],1)],1)],1)],1)],1)],1)}),ct=[],lt=a("fb3d"),ut=a.n(lt),dt={props:{open:Boolean,title:String,editorData:String,templateTitle:String,templateType:{},types:Array,loading:Boolean,route:{}},components:{},data:function(){return{editor:ut.a,editorConfig:{},loadingSave:!1}},methods:{submit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log(this.route),t=this.route.method,this.loadingSave=!0,e.next=6,l.a[t](this.route.endpoint,{title:this.templateTitle,type:this.templateType,content:this.editorData});case 6:this.loadingSave=!1,this.open=!1,e.next=13;break;case 10:throw e.prev=10,e.t0=e["catch"](0),e.t0.message;case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}()}},pt=dt,mt=Object(j["a"])(pt,ot,ct,!1,null,null,null),vt=mt.exports;_()(mt,{VBtn:T["a"],VCard:le["a"],VCol:xe["a"],VContainer:De["a"],VDialog:Ie["a"],VIcon:V["a"],VRow:ye["a"],VSelect:Se["a"],VSpacer:z["a"],VTextField:Ue["a"],VToolbar:M["a"],VToolbarItems:H["a"],VToolbarTitle:H["b"]});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{attrs:{justify:"center"}},[a("v-dialog",{attrs:{persistent:"","max-width":"450"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[a("v-card",[a("v-card-title",{staticClass:"headline error--text"},[e._v(e._s(e.dialogHeadline))]),a("v-card-text",[e._v(e._s(e.dialogText))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"error",text:""},on:{click:function(t){return e.$emit("dialogClose",!1)}}},[e._v("Cancel")]),a("v-btn",{attrs:{loading:e.loading,color:"primary"},on:{click:function(t){return e.$emit("confirmDelete",e.item)}}},[e._v("Confirm")])],1)],1)],1)],1)},ht=[],gt={props:{dialogOpen:Boolean,dialogHeadline:{type:String,default:""},dialogText:{type:String,default:""},loading:Boolean,item:Object}},bt=gt,xt=Object(j["a"])(bt,ft,ht,!1,null,null,null),yt=xt.exports;_()(xt,{VBtn:T["a"],VCard:le["a"],VCardActions:ue["a"],VCardText:ue["c"],VCardTitle:ue["d"],VDialog:Ie["a"],VRow:ye["a"],VSpacer:z["a"]});var wt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{color:e.color,timeout:e.timeout,bottom:"",right:""},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[e._v(" "+e._s(e.text)+" "),a("v-btn",{attrs:{dark:"",text:""},on:{click:function(t){return e.$emit("closeSnack",!1)}}},[e._v("Close")])],1)},kt=[],jt={props:{color:String,text:String,open:Boolean},data:function(){return{timeout:6e3}}},Ct=jt,_t=a("2db4"),Tt=Object(j["a"])(Ct,wt,kt,!1,null,null,null),Ot=Tt.exports;_()(Tt,{VBtn:T["a"],VSnackbar:_t["a"]});var Vt={name:"home",components:{Table:Be,FullDialog:vt,ConfirmDialog:yt,Snackbar:Ot},data:function(){return{headers:[{text:"Template Title",value:"title"},{text:"Type",value:"type"},{text:"Actions",value:"action",sortable:!1}],templates:[],loading:!1,loadingSave:!1,loadingDelete:!1,totalRecords:null,page:1,perPage:10,orderBy:"title",orderType:"asc",tabs:null,fullscreenDialog:!1,types:[],editorData:"",editEmailTitle:"",editEmailType:{value:null,label:"",key:null},snackbarOpen:!1,snackbarText:"",dialogHeadline:"",dialogText:"",dialogOpen:!1,routeForFullscreen:{endpoint:"",method:""},snackbarColor:"primary",imapUser:"",imapPassword:"",imapHost:"",imapPort:"",imapTls:!1}},methods:{saveImapSettings:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.post("/rec_email",{user:this.imapUser,password:this.imapPassword,host:this.imapHost,port:this.imapPort,tls:this.imapTls});case 3:t=e.sent,console.log(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e["catch"](0),e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),deleteCurrentImap:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.prev=0,this.loadingDelete=!0,t={data:{success:!0,message:"hey"}},t.data.success?(this.snackbarText=t.data.message,this.snackbarOpen=!0):(this.snackbarText=t.data.message,this.snackbarColor="error",this.snackbarOpen=!0),e.next=9;break;case 6:throw e.prev=6,e.t0=e["catch"](0),e.t0;case 9:case"end":return e.stop()}}),e,this,[[0,6]])})));function t(){return e.apply(this,arguments)}return t}(),handleOpenDialog:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.types.length){e.next=6;break}return e.next=4,l.a.get("/mail/types");case 4:a=e.sent,this.types=a.data.content.types;case 6:if(console.log(t),!t){e.next=15;break}return this.editorData=t.content,this.editEmailTitle=t.title,this.editEmailType=t.type,this.routeForFullscreen.endpoint="/mail/update/".concat(t._id),this.routeForFullscreen.method="put",this.fullscreenDialog=!0,e.abrupt("return");case 15:this.routeForFullscreen.endpoint="/mail/add",this.routeForFullscreen.method="post",this.fullscreenDialog=!0,e.next=23;break;case 20:throw e.prev=20,e.t0=e["catch"](0),e.t0.message;case 23:case"end":return e.stop()}}),e,this,[[0,20]])})));function t(t){return e.apply(this,arguments)}return t}(),searchTemplates:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,l.a.get("/mail",{params:{search:t}});case 4:a=e.sent,this.templates=a.data.content.templates,this.totalRecords=a.data.totalRecords,this.loading=!1,e.next=14;break;case 10:throw e.prev=10,e.t0=e["catch"](0),this.loading=!1,e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}(),getTemplates:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,l.a.get("/mail/");case 4:return t=e.sent,this.templates=t.data.content.templates,this.totalRecords=t.data.totalTemplates,this.loading=!1,e.abrupt("return");case 11:throw e.prev=11,e.t0=e["catch"](0),this.loading=!1,e.t0.message;case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}(),openDialog:function(e){this.item=e,this.dialogOpen=!0,this.dialogHeadline="You are about to delete a template!",this.dialogText="Are you sure you want to delete the template '".concat(e.title,"'?")},deleteItem:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,this.loadingDelete=!0,e.next=5,l.a.delete("/mail/delete/".concat(t._id));case 5:a=e.sent,a.data.success&&(this.dialogOpen=!1,n=this.templates.indexOf(t),this.templates.splice(n,1),this.snackbarText="Template ".concat(t.title," deleted"),this.snackbarOpen=!0,this.loadingDelete=!1),e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](1),this.loadingDelete=!1,e.t0;case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),closeDialog:function(){this.fullscreenDialog=!1}},computed:{},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTemplates();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Dt=Vt,It=a("ac7c"),Rt=a("71a3"),St=a("c671"),Ut=a("fe57"),Et=a("aac8"),Pt=Object(j["a"])(Dt,st,it,!1,null,null,null),Lt=Pt.exports;_()(Pt,{VBtn:T["a"],VCheckbox:It["a"],VCol:xe["a"],VContainer:De["a"],VContent:Ke["a"],VIcon:V["a"],VRow:ye["a"],VTab:Rt["a"],VTabItem:St["a"],VTabs:Ut["a"],VTabsItems:Et["a"],VTextField:Ue["a"]});var At=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("v-content",{staticClass:"content"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-form",{on:{submit:function(t){return t.preventDefault(),e.searchCompanies(t)}}},[a("v-text-field",{attrs:{"background-color":"white",label:"Search Companies",dense:"",outlined:"","append-icon":"fas fa-search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"2"}},[a("v-btn",{staticClass:"ml-5",attrs:{color:"primary",to:{name:"Add Company"},link:""}},[a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[e._v("fas fa-plus")]),e._v("New Company ")],1)],1),a("v-col",{attrs:{cols:"12",md:"4"}}),a("v-col",{attrs:{cols:"12",md:"3"}},[a("Pagination",{attrs:{page:e.page,length:e.paginationLength},on:{pageUpdate:function(t){return e.pageUpdate(t)},increasePage:e.increasePage,decreasePage:e.decreasePage}})],1),e._l(e.companies,(function(e,t){return a("v-col",{key:t,attrs:{cols:"12",md:"4"}},[a("Company-Card",{attrs:{company:e}})],1)}))],2)],1)],1)],1)},$t=[],Nt=(a("ac1f"),a("841c"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{raised:"",outlined:""}},[n("v-list-item",{attrs:{"three-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"headline mb-1"},[e._v(e._s(e.company.name))]),n("v-list-item-subtitle",[e._v("Admin: "+e._s(e.company.mainAdmin.email))])],1),n("v-list-item-avatar",{attrs:{tile:"",size:"80"}},[n("v-img",{attrs:{src:e.generateUrl,"lazy-src":a("d2fd")}})],1)],1),n("v-card-actions",{staticClass:"ml-3"},[n("v-btn",{attrs:{text:"",color:"primary",link:"",to:{name:"Company Page",params:{id:e.company._id}}}},[e._v("View")])],1)],1)}),Ft=[],Bt={props:{company:Object},computed:{generateUrl:function(){return Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_BASE_URL+"files/image/".concat(this.company.image)}}},zt=Bt,Mt=Object(j["a"])(zt,Nt,Ft,!1,null,null,null),Ht=Mt.exports;_()(Mt,{VBtn:T["a"],VCard:le["a"],VCardActions:ue["a"],VImg:D["a"],VListItem:R["a"],VListItemAvatar:S["a"],VListItemContent:U["a"],VListItemSubtitle:U["b"],VListItemTitle:U["c"]});var Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center"},[a("v-pagination",{attrs:{"prev-icon":"fas fa-caret-left","next-icon":"fas fa-caret-right",value:e.page,length:e.length},on:{input:function(t){return e.$emit("pageUpdate",t)},next:function(t){return e.$emit("increasePage",1)},previous:function(t){return e.$emit("decreasePage",-1)}},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},qt=[],Gt={props:{page:Number,length:Number,perPage:Number}},Wt=Gt,Jt=a("891e"),Kt=Object(j["a"])(Wt,Yt,qt,!1,null,null,null),Qt=Kt.exports;_()(Kt,{VPagination:Jt["a"]});var Xt={name:"home",components:{CompanyCard:Ht,Pagination:Qt},data:function(){return{companies:[],page:1,perPage:6,paginationLength:0,search:""}},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getCompanies();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getCompanies:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/companies",{params:{page:this.page,perPage:this.perPage}});case 3:t=e.sent,this.companies=t.data.content.companies,this.paginationLength=t.data.totalRecords/this.perPage,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),searchCompanies:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/companies",{params:{search:this.search}});case 3:t=e.sent,this.companies=t.data.content.companies,this.paginationLength=t.data.totalRecords/this.perPage,e.next=11;break;case 8:throw e.prev=8,e.t0=e["catch"](0),e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),increasePage:function(){this.page+=1,this.getCompanies()},decreasePage:function(){this.page-=1,this.getCompanies()},pageUpdate:function(e){this.page=e,this.getCompanies()}}},Zt=Xt,ea=Object(j["a"])(Zt,At,$t,!1,null,null,null),ta=ea.exports;_()(ea,{VBtn:T["a"],VCol:xe["a"],VContainer:De["a"],VContent:Ke["a"],VForm:Ne["a"],VIcon:V["a"],VRow:ye["a"],VTextField:Ue["a"]});var aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-content",{staticClass:"login-content"},[a("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"hero-container",attrs:{cols:"7"}}),a("v-col",{staticClass:"form-container",attrs:{cols:"5"}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{staticClass:"text-center",attrs:{cols:"8"}},[a("h1",{staticClass:"primary--text mb-10"},[e._v("Login")]),a("v-form",{ref:"form",attrs:{"lazy-validation":""},on:{submit:function(t){return t.preventDefault(),e.login(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-text-field",{attrs:{outlined:"","validate-on-blur":"",label:"Email",name:"email","prepend-inner-icon":"fas fa-at",type:"email",rules:e.emailRules,placeholder:"Enter your email..."},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{attrs:{outlined:"","validate-on-blur":"",id:"password",label:"Password",name:"password",rules:e.passwordRules,"prepend-inner-icon":"fas fa-lock",type:"password",placeholder:"Enter your password..."},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.resError.length?a("p",{staticClass:"error--text text-center mb-5",attrs:{rounded:""}},[e._v(e._s(e.resError))]):e._e(),a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"6"}},[a("a",[e._v("Forgot your password?")])]),a("v-col",{attrs:{cols:"6"}},[a("v-btn",{attrs:{type:"submit",width:"100%",color:"primary",loading:e.loading},on:{click:e.login}},[e._v("Login")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},na=[],ra={data:function(){return{valid:!0,loading:!1,email:"",password:"",emailRules:[function(e){return!!e||"Email is required"},function(e){return/.+@.+\..+/.test(e)||"Email must be valid"}],passwordRules:[function(e){return!!e||"Password is required"}],resError:""}},methods:{login:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.resError="",this.loading=!0,e.next=4,this.validate();case 4:if(!this.valid){e.next=7;break}return e.next=7,l.a.post("/auth/admin_login",{email:this.email,password:this.password}).then((function(e){1===e.data.content.user.userType&&(t.$store.dispatch("setToken",e.data.content.jwt),t.$store.dispatch("setLoggedUser",e.data.content.user),t.$store.dispatch("setIsAuthenticated",!0),t.loading=!1,t.$router.push({name:"Dashboard"}))})).catch((function(e){t.resError=e.response.data.message.en,t.loading=!1}));case 7:this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),validate:function(){this.$refs.form.validate()&&(this.snackbar=!0)}},computed:{}},sa=ra,ia=(a("206d"),Object(j["a"])(sa,aa,na,!1,null,null,null)),oa=ia.exports;_()(ia,{VBtn:T["a"],VCol:xe["a"],VContainer:De["a"],VContent:Ke["a"],VForm:Ne["a"],VRow:ye["a"],VTextField:Ue["a"]});var ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("v-content",{staticClass:"content"},[a("v-container",[a("Table",{staticClass:"elevation-2",attrs:{title:"List of Users",headers:e.headers,items:e.users,loading:e.loading,isUsersTable:!0,page:e.page,perPage:e.perPage,totalRecords:e.totalUsers,searchLabel:"Search Users"},on:{legoLazyness:function(t){return e.getUsers()},snackbarOpen:function(t){return e.openSnackbar(t)},openDeleteConfirm:function(t){return e.openDialog(t)},search:function(t){return e.searchUsers(t)},pageUpdate:function(t){return e.pageUpdate(t)},perPageUpdate:function(t){return e.perPageUpdate(t)},orderByUpdate:function(t){return e.orderByUpdate(t)},orderTypeUpdate:function(t){return e.orderTypeUpdate(t)}}}),a("Confirm-Dialog",{attrs:{dialogOpen:e.dialogOpen,dialogHeadline:e.dialogHeadline,dialogText:e.dialogText,loading:e.loadingDelete},on:{confirmDelete:function(t){return e.deleteItem(e.item)},dialogClose:function(t){e.dialogOpen=!1}}}),a("Snackbar",{attrs:{open:e.snackbarOpen,text:e.snackbarText,color:"primary"},on:{closeSnack:function(t){e.snackbarOpen=e.event}}})],1)],1)],1)},la=[];a("99af");function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function da(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var pa={name:"home",components:{Table:Be,ConfirmDialog:yt,Snackbar:Ot},data:function(){return{headers:[{text:"Email",value:"email"},{text:"First Name",value:"name.first"},{text:"Last Name",value:"name.last"},{text:"Company",value:"companyId.name"},{text:"Type",value:"userType"},{text:"Actions",value:"action",sortable:!1}],loading:!1,totalUsers:null,page:1,perPage:10,orderBy:"email",orderType:"asc",dialogText:"",dialogHeadline:"",dialogOpen:!1,loadingDelete:!1,snackbarOpen:!1,snackbarText:""}},beforeMount:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.getUsers();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getUsers:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,l.a.get("/users",{params:{page:this.page,perPage:this.perPage,orderBy:this.orderBy,orderType:this.orderType}});case 4:t=e.sent,this.$store.dispatch("setUsers",t.data.content.users),this.totalUsers=t.data.totalUsers,this.loading=!1,e.next=13;break;case 10:throw e.prev=10,e.t0=e["catch"](0),e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(){return e.apply(this,arguments)}return t}(),searchUsers:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,l.a.get("/users",{params:{search:t}});case 4:a=e.sent,this.$store.dispatch("setUsers",a.data.content.users),this.totalUsers=a.data.totalUsers,this.loading=!1,e.next=14;break;case 10:throw e.prev=10,e.t0=e["catch"](0),this.loading=!1,e.t0;case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}(),openDialog:function(e){this.item=e,this.dialogOpen=!0,this.dialogHeadline="You are about to delete a user!",this.dialogText="Are you sure you want to delete the user ".concat(e.name.first," ").concat(e.name.last,", with email ").concat(e.email,"?")},openSnackbar:function(e){this.snackbarText="User ".concat(e.name.first," ").concat(e.name.last," saved/edited"),this.snackbarOpen=!0},deleteItem:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,this.loadingDelete=!0,e.next=5,l.a.delete("/users/".concat(t._id));case 5:a=e.sent,a.data.success&&(this.dialogOpen=!1,n=this.users.indexOf(t),this.users.splice(n,1),this.snackbarText="User ".concat(t.name.first," ").concat(t.name.last," deleted"),this.snackbarOpen=!0),e.next=12;break;case 9:throw e.prev=9,e.t0=e["catch"](1),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),pageUpdate:function(e){this.page=e,this.getUsers()},perPageUpdate:function(e){this.perPage=e,this.getUsers()},orderByUpdate:function(e){this.orderBy=e[0],this.getUsers()},orderTypeUpdate:function(e){!0===e[0]?this.orderType="desc":this.orderType="asc",this.getUsers()}},computed:da({},Object(u["b"])(["users"]))},ma=pa,va=Object(j["a"])(ma,ca,la,!1,null,null,null),fa=va.exports;_()(va,{VContainer:De["a"],VContent:Ke["a"]});var ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-content",{staticClass:"content"},[a("v-container",[a("v-tabs",{staticClass:"elevation-2",attrs:{color:"primary","background-color":"white",left:""},model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab",[e._v(" Logs "),a("v-icon",{staticClass:"ml-3"},[e._v("fas fa-list")])],1),a("v-tab",[e._v(" Users "),a("v-icon",{staticClass:"ml-3"},[e._v("fas fa-users")])],1),a("v-tab",[e._v(" Maintenances "),a("v-icon",{staticClass:"ml-3"},[e._v("fas fa-calendar")])],1)],1),a("v-tabs-items",{staticClass:"elevation-2",model:{value:e.tabs,callback:function(t){e.tabs=t},expression:"tabs"}},[a("v-tab-item",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"6"}}),a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({staticClass:"mt-5",attrs:{dense:"",outlined:"",label:"Picker without buttons","prepend-icon":"fas fa-calendar",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},n))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{on:{"click:date":e.getLogs,input:function(t){e.menu2=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)],1),a("v-col",{attrs:{cols:"12",md:"10"}},[e.logs.length?e._e():a("h1",{staticClass:"primary--text text-center mb-10"},[e._v("No logs on this date")]),e.logs.length?a("v-timeline",{attrs:{"align-top":"",dense:""}},e._l(e.logs,(function(t,n){return a("v-timeline-item",{key:n},[a("v-card",{staticClass:"white--text",attrs:{color:"primary"}},[a("v-card-title",{staticClass:"headline"},[a("v-icon",{staticClass:"mr-5",attrs:{color:"white"}},[e._v("fas fa-running")]),e._v(" "+e._s(t.sensorId.location)+" ")],1),a("v-card-text",{staticClass:"white--text"},[e._v("Started: "+e._s(t.started)+" Finished: "+e._s(t.finished))])],1)],1)})),1):e._e()],1)],1)],1),a("v-tab-item",[a("Data-Table",{attrs:{title:e.computeTitle,headers:e.headers,items:e.users,isUsersTable:!1,searchLabel:"Search Users"}})],1),a("v-tab-item",[e._v("hey")])],1)],1)],1)],1)},ga=[],ba=(a("d81d"),{components:{DataTable:Be},data:function(){return{tabs:0,loading:!0,logs:[],date:(new Date).toISOString().substr(0,10),menu:!1,company:{},users:[],headers:[{text:"Email",value:"email"},{text:"First Name",value:"name.first"},{text:"Last Name",value:"name.last"},{text:"Created",value:"createdAt"}]}},methods:{getCompany:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/companies/".concat(this.$route.params.id));case 3:t=e.sent,this.company=t.data.company,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}(),getUsers:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.get("/companies/".concat(this.$route.params.id,"/users"));case 3:t=e.sent,this.users=t.data.content.users,this.users.map((function(e){return e.createdAt=ie()(e.createdAt).format("DD-MM-YYYY")})),e.next=12;break;case 8:throw e.prev=8,e.t0=e["catch"](0),console.log(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}(),getLogs:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loading=!0,e.next=4,l.a.get("/logs/company_sensors/".concat(this.$route.params.id),{params:{date:this.date}});case 4:t=e.sent,this.logs=t.data.content.logs,this.logs.forEach((function(e){e.started=ie()(e.started).format("HH:mm / DD-MM-YYYY"),e.finished=ie()(e.finished).format("HH:mm / DD-MM-YYYY")})),e.next=13;break;case 9:throw e.prev=9,e.t0=e["catch"](0),console.log(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,this,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getCompany();case 2:return e.next=4,this.getUsers();case 4:return e.next=6,this.getLogs();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:{computeTitle:function(){return"".concat(this.company.name," Users")}}}),xa=ba,ya=a("2e4b"),wa=a("e449"),ka=a("8414"),ja=a("1e06"),Ca=Object(j["a"])(xa,ha,ga,!1,null,null,null),_a=Ca.exports;_()(Ca,{VCard:le["a"],VCardText:ue["c"],VCardTitle:ue["d"],VCol:xe["a"],VContainer:De["a"],VContent:Ke["a"],VDatePicker:ya["a"],VIcon:V["a"],VMenu:wa["a"],VRow:ye["a"],VTab:Rt["a"],VTabItem:St["a"],VTabs:Ut["a"],VTabsItems:Et["a"],VTextField:Ue["a"],VTimeline:ka["a"],VTimelineItem:ja["a"]});var Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-content",{staticClass:"content"},[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-stepper",{attrs:{vertical:""},model:{value:e.e6,callback:function(t){e.e6=t},expression:"e6"}},[a("v-stepper-step",{attrs:{complete:e.e6>1,step:"1"}},[e._v(" Create a User "),a("small",[e._v("Create the default user for this company")])]),a("v-stepper-content",{attrs:{step:"1"}},[a("v-card",{staticClass:"mb-12",attrs:{flat:"",height:"300px"}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-text-field",{attrs:{label:"Email",dense:"",outlined:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-text-field",{attrs:{label:"First Name",dense:"",outlined:""},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}})],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-text-field",{attrs:{label:"Last Name",dense:"",outlined:""},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}})],1),a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-text-field",{attrs:{label:"Phone Number",type:"number",dense:"",outlined:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-file-input",{attrs:{dense:"",chips:"","show-size":"",outlined:"","prepend-inner-icon":"fas fa-camera","prepend-icon":"",accept:"image/jpeg, image/png",label:"Avatar"},model:{value:e.avatar,callback:function(t){e.avatar=t},expression:"avatar"}})],1)],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e6=2}}},[e._v("Continue")])],1),a("v-stepper-step",{attrs:{complete:e.e6>2,step:"2"}},[e._v(" Company Information "),a("small",[e._v("Insert company and payment information")])]),a("v-stepper-content",{attrs:{step:"2"}},[a("v-card",{staticClass:"mb-12",attrs:{flat:"",height:"400px"}},[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-text-field",{attrs:{label:"Email",dense:"",outlined:""},model:{value:e.companyName,callback:function(t){e.companyName=t},expression:"companyName"}})],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-text-field",{attrs:{label:"Office Location",dense:"",outlined:""},model:{value:e.officeLocation,callback:function(t){e.officeLocation=t},expression:"officeLocation"}})],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-text-field",{attrs:{label:"Postal Code",type:"number",dense:"",outlined:""},model:{value:e.officePostalCode,callback:function(t){e.officePostalCode=t},expression:"officePostalCode"}})],1),a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-file-input",{attrs:{dense:"",chips:"","show-size":"",outlined:"","prepend-inner-icon":"fas fa-camera","prepend-icon":"",accept:"image/jpeg, image/png",label:"Image"},model:{value:e.companyImage,callback:function(t){e.companyImage=t},expression:"companyImage"}})],1)],1),a("v-divider"),a("v-row",{staticClass:"mt-5",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-text-field",{attrs:{label:"CC Number",type:"number",dense:"",outlined:""},model:{value:e.crediCardNumber,callback:function(t){e.crediCardNumber=t},expression:"crediCardNumber"}})],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-text-field",{attrs:{label:"CVV",type:"number",dense:"",outlined:""},model:{value:e.cvv,callback:function(t){e.cvv=t},expression:"cvv"}})],1),a("v-col",{attrs:{cols:"12",md:"5"}},[a("v-text-field",{attrs:{label:"Expiration Date",type:"date",dense:"",outlined:""},model:{value:e.expirationDate,callback:function(t){e.expirationDate=t},expression:"expirationDate"}})],1)],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.e6=3}}},[e._v("Continue")]),a("v-btn",{staticClass:"ml-3",attrs:{text:""},on:{click:function(t){e.e6=1}}},[e._v("Return")])],1),a("v-stepper-step",{attrs:{complete:e.e6>3,step:"3"}},[e._v("Add sensors")]),a("v-stepper-content",{attrs:{step:"3"}},[a("v-card",{staticClass:"mb-12",attrs:{flat:"",height:"100px"}},[a("v-row",{staticClass:"mt-10",attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"10"}},[a("v-text-field",{attrs:{label:"Sensor Location",dense:"",outlined:""},model:{value:e.sensorLocation,callback:function(t){e.sensorLocation=t},expression:"sensorLocation"}})],1)],1)],1),a("v-btn",{attrs:{color:"primary",loading:e.loading},on:{click:e.submit}},[e._v("Submit")]),a("v-btn",{staticClass:"ml-3",attrs:{text:""},on:{click:function(t){e.e6=2}}},[e._v("Return")])],1)],1)],1)],1)],1)],1)],1)},Oa=[],Va={data:function(){return{e6:1,loading:!1,email:"",firstName:"",lastName:"",avatar:null,companyName:"",officeLocation:"",officePostalCode:"",companyImage:null,creditCardNumber:"",cvv:"",expirationDate:"",sensorLocation:""}},methods:{submit:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,this.loading=!0,t=null,a=null,!this.avatar){e.next=10;break}return n=new FormData,n.append("file",this.avatar,this.avatar.name),e.next=9,l.a.post("/file/upload/avatar",n);case 9:t=e.sent;case 10:if(!this.companyImage){e.next=16;break}return r=new FormData,r.append("file",this.companyImage,this.companyImage.name),e.next=15,l.a.post("/file/upload/avatar",r);case 15:a=e.sent;case 16:return s={user:{email:this.email,name:{first:this.firstName,last:this.lastName},avatar:t.data.fileId},company:{name:this.companyName,offices:[{location:this.officeLocation,postalCode:this.officePostalCode}],paymentMethod:{crediCardNumber:this.creditCardNumber,cvv:this.cvv,expiresIn:this.expirationDate},image:a.data.fileId},sensor:{location:this.sensorLocation,sensorType:1}},e.next=19,l.a.post("/companies",s);case 19:i=e.sent,i.data.success&&(this.loading=!1,this.$router.push({name:"Companies"})),e.next=27;break;case 23:e.prev=23,e.t0=e["catch"](0),this.loading=!1,console.log(e.t0);case 27:case"end":return e.stop()}}),e,this,[[0,23]])})));function t(){return e.apply(this,arguments)}return t}()}},Da=Va,Ia=a("7e85"),Ra=a("e516"),Sa=a("56a4"),Ua=Object(j["a"])(Da,Ta,Oa,!1,null,null,null),Ea=Ua.exports;_()(Ua,{VBtn:T["a"],VCard:le["a"],VCol:xe["a"],VContainer:De["a"],VContent:Ke["a"],VDivider:O["a"],VFileInput:Re["a"],VRow:ye["a"],VStepper:Ia["a"],VStepperContent:Ra["a"],VStepperStep:Sa["a"],VTextField:Ue["a"]}),n["a"].use(ee["a"]);var Pa=[{path:"/login",name:"Login",component:oa,meta:{title:"Login"}},{path:"/",name:"Dashboard",component:Xe,meta:{requiresAuth:!0,title:"Dashboard"}},{path:"/companies",name:"Companies",component:ta,meta:{requiresAuth:!0,title:"Companies"}},{path:"/companies/:id",name:"Company Page",component:_a,meta:{title:"Company"},props:!0},{path:"/companies/add_new",name:"Add Company",component:Ea,meta:{title:"Add Company"}},{path:"/surveillance",name:"Surveillance",component:rt,meta:{requiresAuth:!0,title:"Surveillance"}},{path:"/users",name:"Users",component:fa,meta:{requiresAuth:!0,title:"Users"}},{path:"/settings",name:"Settings",component:Lt,meta:{requiresAuth:!0,title:"Settings"}}],La=new ee["a"]({mode:"history",base:"/",routes:Pa,linkActiveClass:"is-active"});La.beforeEach((function(e,t,a){e.matched.some((function(e){return e.meta.requiresAuth}))?La.app.$store.getters.isAuthenticated?a():a({path:"/login",query:{redirect:e.fullPath}}):a()})),La.beforeEach((function(e,t,a){document.title="Spectrum - "+e.meta.title,a()}));var Aa=La,$a=a("f309");a("15f5");n["a"].use($a["a"]);var Na=new $a["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#1374F2",secondary:"#3587F2",accent:"#66A3F2",error:"#EF5350",info:"#2196F3",success:"#4CAF50",warning:"#FFC107",background:"#F2F2F2"}}},icons:{iconfont:"fa"}}),Fa=a("3730"),Ba=a.n(Fa);n["a"].config.productionTip=!1,n["a"].use(Ba.a),new n["a"]({router:Aa,store:v,vuetify:Na,render:function(e){return e(Z)}}).$mount("#app")},5974:function(e,t,a){},"5c0b":function(e,t,a){"use strict";var n=a("7694"),r=a.n(n);r.a},6224:function(e,t,a){"use strict";var n=a("5974"),r=a.n(n);r.a},7694:function(e,t,a){},"8e60":function(e,t,a){"use strict";var n=a("eecd"),r=a.n(n);r.a},"90ab":function(e,t,a){e.exports=a.p+"img/placeholder.2861c447.jpg"},a031:function(e,t,a){"use strict";var n=a("42a0"),r=a.n(n);r.a},d2fd:function(e,t,a){e.exports=a.p+"img/LogoSDAzul.00a1f00b.png"},eecd:function(e,t,a){},fe4d:function(e,t,a){}});
//# sourceMappingURL=app.71182d64.js.map